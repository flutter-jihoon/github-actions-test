name: A-B Conditional Test

on:
  workflow_dispatch:
    inputs:
      runJobs:
        description: "Ïã§ÌñâÌï† Job ÏÑ†ÌÉù"
        required: true
        default: "both"
        type: choice
        options:
          - a
          - b
          - both

jobs:
  job_a:
    if: ${{ inputs.runJobs == 'a' || inputs.runJobs == 'both' }}
    name: ‚úÖ Job A (Success)
    runs-on: ubuntu-latest
    steps:
      - run: echo "Job A succeeded"

  job_b:
    if: ${{ inputs.runJobs == 'b' || inputs.runJobs == 'both' }}
    name: ‚ùå Job B (Fails intentionally)
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "Job B will fail"
          exit 1

  final_job:
    name: üß™ Final Job (Runs if Job A was successful)
    needs: [job_a, job_b]
    if: ${{ always() && (inputs.runJobs == 'a' || inputs.runJobs == 'both') && needs.job_a.result == 'success' }}
    runs-on: ubuntu-latest
    steps:
      - run: echo "Final job ran because Job A succeeded"